#!/usr/bin/python

#-----------------------------------------------------------------------------#
#                                 Helper Functions                            #
#-----------------------------------------------------------------------------#


#-----------------------------------------------------------------------------#
#                                 Solution                                    #
#-----------------------------------------------------------------------------#
def solution(S):
    """
    Brackets
    Determines whether a given string of parentheses (multiple types) is 
    properly nested.
    """

    N = len(S)
    if not S or N == 0:
        return 1

    rules = ["()", "{}", "[]"]

    while any(char in S for char in rules): 
        for br in rules:
            S = S.replace(br, '')

    return int(not S)

#-----------------------------------------------------------------------------#
#                                 TEST                                        #
#-----------------------------------------------------------------------------#
def test_Brackets():
   assert solution("{[()()]}")      == 1
   assert solution("([)()]")        == 0
   assert solution("")              == 1
   assert solution(")(")            == 0
   assert solution("())(()")        == 0

#-----------------------------------------------------------------------------#
#                                 MAIN                                        #
#-----------------------------------------------------------------------------#

if __name__ == "__main__":
    test_Brackets()
